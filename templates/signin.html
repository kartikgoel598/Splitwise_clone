{% extends "base.html" %}
{% from "components/form_input.html" import form_input %}

{% block content %}
<div class="signin-container">
    <div class="signin-card">
        <div class="signin-header">
            <div class="header-icon">
                <svg class="users-icon" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="8.5" cy="7" r="4"></circle>
                    <line x1="20" y1="8" x2="20" y2="14"></line>
                    <line x1="23" y1="11" x2="17" y2="11"></line>
                </svg>
            </div>
            <h1>Welcome to Splitwise</h1>
            <p>Sign in to track your shared expenses</p>
        </div>
        
        <form method="POST" action="{{ url_for('auth.signin') }}" class="signin-form">
            {{ form_input(
                label="Email",
                type="email",
                id="email",
                placeholder="Enter your email",
                required=true,
                icon="mail"
            ) }}
            
            {{ form_input(
                label="Password",
                type="password",
                id="password",
                placeholder="Enter your password",
                required=true,
                icon="lock",
                show_password_toggle=true
            ) }}
            
            <button type="submit" class="signin-button">Sign In</button>
        </form>
        
        <div class="divider">
            <span>OR CONTINUE WITH</span>
        </div>

        <button type="button" class="google-button" onclick="handleGoogleSignIn()">
            <div class="google-logo">G</div>
            Continue with Google
        </button>

        <div class="signin-footer">
            <p>
                Don't have an account? 
                <a href="{{ url_for('auth.signup') }}" class="signup-link">Sign up</a>
            </p>
        </div>
    </div>
</div>

<script>
function handleInputChange(input) {
    console.log('Input changed:', input.name, input.value);
}

function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    const eyeIcon = document.getElementById('eye-' + inputId);
    const eyeOffIcon = document.getElementById('eye-off-' + inputId);
    
    if (input.type === 'password') {
        input.type = 'text';
        eyeIcon.style.display = 'none';
        eyeOffIcon.style.display = 'block';
    } else {
        input.type = 'password';
        eyeIcon.style.display = 'block';
        eyeOffIcon.style.display = 'none';
    }
}

function handleGoogleSignIn() {
    console.log('Google sign-in clicked');
    // Add your Google sign-in logic here
}
</script>
{% endblock %}
